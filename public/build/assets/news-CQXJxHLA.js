import{r as n,j as e,H as E}from"./app-cgYOdWZy.js";import{A as L,F as N}from"./feed-BERmjH1F.js";import{P as z,L as S}from"./layout-B527ElJ-.js";/* empty css            */import"./square-arrow-out-up-right-BEnrCFjP.js";function k(){const[i,v]=n.useState([]),[p,g]=n.useState(1),[m,f]=n.useState(!1),[u,w]=n.useState(!0),[o,h]=n.useState(0),x=20,d=n.useRef(null),j=n.useRef(null),b=async(t,s=!1)=>{f(!0);try{const r=await(await fetch(`/api/news?page=${t}&limit=${x}`)).json();v(l=>s?r:[...l,...r]),r.length<x&&w(!1)}catch(c){console.error(c)}finally{f(!1),h(0)}};n.useEffect(()=>{b(p)},[p]),n.useEffect(()=>{const t=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&!m&&u&&g(s=>s+1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[m,u]),n.useEffect(()=>{const t=j.current;if(!t)return;const s=l=>{window.scrollY===0&&(d.current=l.touches[0].clientY)},c=l=>{if(d.current!==null){const y=l.touches[0].clientY-d.current;y>0&&h(Math.min(y,100))}},r=()=>{o>60?(g(1),w(!0),b(1,!0)):h(0),d.current=null};return t.addEventListener("touchstart",s),t.addEventListener("touchmove",c),t.addEventListener("touchend",r),()=>{t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",r)}},[o]);const a=i.length>0?i[0]:null;return a&&a.title,a?.summary,a?.image,a&&(a.title,a.pub_date,a.pub_date,a.source,a.image&&a.image,a.summary),e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx("title",{children:"Berita Terbaru - Centralize News"}),e.jsx("meta",{name:"description",content:"Kami menyajikan berita berita terbaru dari berbagai media berita di Indonesia"}),e.jsx("link",{rel:"canonical",href:"https://centralizenews.com"}),e.jsx("meta",{property:"og:title",content:"Berita Terbaru - Centralize News"}),e.jsx("meta",{property:"og:description",content:"Kami menyajikan berita berita terbaru dari berbagai media berita di Indonesia"}),e.jsx("meta",{property:"og:url",content:"https://centralizenews.com"}),e.jsx("meta",{property:"og:image",content:"https://centralizenews.com/no-image.png"}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Berita Terbaru - Centralize News"}),e.jsx("meta",{name:"twitter:description",content:"Kami menyajikan berita berita terbaru dari berbagai media berita di Indonesia"}),e.jsx("meta",{name:"twitter:image",content:"https://centralizenews.com/no-image.png"})]}),e.jsxs("div",{ref:j,className:"flex flex-col items-center pt-6 pb-24 transition-transform duration-200",style:{transform:`translateY(${o}px)`},children:[o>0&&e.jsx("div",{className:"absolute top-2 text-gray-500",children:o>60?e.jsx(L,{}):"Pull to refresh"}),e.jsxs("div",{className:"w-full  mt-20",children:[e.jsx("div",{className:"overflow-auto p-4",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",children:i.map(t=>e.jsx(N,{items:[t]},t.id))})}),m&&e.jsx(z,{src:document.documentElement.classList.contains("dark")?"/cns-white.png":"/cns-black.png",size:90}),!u&&e.jsx("p",{className:"text-center py-4",children:"No more news"})]})]})]})}k.layout=i=>e.jsx(S,{children:i});export{k as default};
